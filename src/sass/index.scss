@use "./vars";
@use "./mixins";
@import "normalize.css";
@import "./typography";
@import "./utilities";
@import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@500;700&display=swap");

:root {
  font-size: 16px;
  --layout-gap: #{vars.$size-medium};
}

@media (min-width: vars.$breakpoint-tablet) {
  :root {
    --layout-gap: #{vars.$size-large};
  }
}

body {
  @each $color-name, $color-value in vars.$theme-light {
    --theme-#{$color-name}: #{$color-value};
  }
}

body[data-theme="dark"] {
  @each $color-name, $color-value in vars.$theme-dark {
    --theme-#{$color-name}: #{$color-value};
  }
}

*,
*::before,
*::after {
  font-size: 1rem;
  font-family: -apple-system, BlinkMacSystemFont, "Work Sans", "Segoe UI",
    Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  box-sizing: border-box;
  color: var(--theme-color-text);
}

body,
p,
ul,
h1,
h2,
h3,
h4,
h5,
h6,
li {
  margin: 0;
  padding: 0;
}

/// The wrapper of everything
#app {
  height: 100vh;
  overflow: hidden;
  display: grid;
  place-items: center;
  background-color: var(--theme-color-root);

  /// The wrapper of the current page
  #root {
    position: relative;
    max-width: vars.$container-max-width;

    @include mixins.when-sidebar-appears() {
      padding-right: calc(var(--layout-gap) + vars.$sidebar-size);
    }

    /// The main content
    .root__main {
      height: 100vh;
      overflow: auto;
      @include mixins.scrollbar();
      box-shadow: vars.$box-shadow-minimal;
      padding-bottom: vars.$navbar-size-mobile;

      @include mixins.when-vertical-nav-appears() {
        padding-bottom: 0;

        .spaced-for-nav {
          padding-left: vars.$navbar-space-requirement !important;
        }
      }

      @media (min-width: vars.$breakpoint-desktop) {
        max-height: vars.$container-max-height;
        border-radius: vars.$size-smaller;
      }
    }

    /// The sidebar
    .root__sidebar {
      @include mixins.when-sidebar-appears() {
        position: absolute !important;
        z-index: vars.$z-index-sidebar;
        top: 0;
        right: 0;
        width: vars.$sidebar-size;
        height: 100%;
        box-shadow: vars.$box-shadow-minimal;
      }

      @media (min-width: vars.$breakpoint-desktop) {
        border-radius: vars.$size-smaller;
      }
    }
  }
}
